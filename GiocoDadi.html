<html>
    <head>
        <title>Gioco dei Dadi</title>
        
    </head>
    <body>
        <button onclick="tiraDadoA();">Giocatore A</button>
        <button onclick="tiraDadoB();">Giocatore B</button>
    </body>
    <script type="text/javascript">
        var vittoriaConsecutivaA = 0,
            vittoriaConsecutivaB = 0,
            tiroA = 0,
            tiroB = 0,
            valoreA = 0,
            valoreB = 0;
        
        function getValue() {
            return Math.round(Math.random() * (6 - 1) + 1);
        }
        function tiraDadoA() {
            var tiro = 0;
            if (tiroA <= tiroB) {
                tiroA++;
                valoreA = Math.round(Math.random() * (6 - 1) + 1);
                checkStatus();
            }
            
        }
        function tiraDadoB() {
            var tiro = 0;
            if (tiroB <= tiroA) {
                tiroB++;
                valoreB = Math.round(Math.random() * (6 - 1) + 1);
                checkStatus();
            }
            
        }
        
        function checkStatus() {
            if (tiroA == tiroB) {
                console.log(valoreA);
                console.log(valoreB);
                if (valoreA > valoreB) {
                    vittoriaConsecutivaA ++;
                    vittoriaConsecutivaB = 0;
                    if (vittoriaConsecutivaA != 2) {
                        console.log("Ha vinto A");
                    } else {
                        console.log("Ha vinto B");
                        vittoriaConsecutivaB ++;
                        vittoriaConsecutivaA = 0;   
                    }
                }
                else if (valoreA < valoreB) {
                    vittoriaConsecutivaB ++;
                    vittoriaConsecutivaA = 0;
                    if (vittoriaConsecutivaB != 2) {
                        console.log("Ha vinto B");
                    } else {
                        console.log("Ha vinto A");
                        vittoriaConsecutivaA ++;
                        vittoriaConsecutivaB = 0;   
                    }
                }
                else if (valoreA == valoreB){
                    console.log("Non ha vinto nessuno");
                    vittoriaConsecutivaA = 0;
                    vittoriaConsecutivaB = 0;
                }
            }
            
        }
    </script>
</html>
